{% extends 'App/index.html' %}
{% block content %}
    <h1>Create Feed</h1>

<form action="{% url 'Feed_Create'%}" method="post" enctype="multipart/form-data">
  {% csrf_token %}
    <div>
        <label for="id_title">Title: </label>
        <input type="text" name="title" id="id_title">
        {% for error in form.title.errors %}
            <p style="color: red">{{ error }}</p>
        {% endfor %}
    </div>

<br>

    <div>
        <label for="id_text">Text: </label>
        <textarea type="text" name="title" id="id_text"></textarea>
          {% for error in form.title.errors %}
            <p style="color: red">{{ error }}</p>
        {% endfor %}
    </div>

<br>

    <div>
       <label for="id_image">Add Image: </label>
        {{ form.image }}
        {{ form.image.errors }}
    </div>

<br>

    <div>
       <label for="id_user">User: </label>
        <Select name="user" id="id_user">
            {% for user in users %}
               <option value="{{ user.pk }}" {% if user.pk == form.user.value %} selected {% endif %}
                   {{ users }}
               </option>
            {% endfor %}
        </Select>
    {% for error in form.user.errors %}
            <p style="color: red">{{ error }}</p>
        {% endfor %}
    </div>

<br>

     <div>
       <label for="id_author">Author(s): </label>
        <Select name="author" id="id_author" multiple>
            {% for author in authors %}
               <option value="{{author.pk}}" {% if author.pk == form.author.value %} selected {% endif %}>
                   {{ author.username }}
               </option>
            {% endfor %}
        </Select>
     {% for error in form.author.errors %}
            <p style="color: red">{{ error }}</p>
        {% endfor %}
    </div>
  <input type="submit" value="Post"> Post </input>
</form>
{% endblock %}